#!/usr/bin/env bash

if [ $# -ne 1 ]; then
    echo 'Usage: factors <file>'
    exit 1
fi

check_factor() {
    local num1=$1
    local num2=$2

    if [ "$num1" -le "$num2" ]; then
        echo "$num1=$num1*$num2"
    else
        echo "$num1=$num2*$num1"
    fi
}

while read -r number; do
    factors=$(factor "$number" | awk '{print $2}' | tr '\n' '*')
    factors=${factors%*}  # Remove the trailing "*"

    echo "$(echo "$number" | tr -d '\n')=${factors%*}"  # Remove the trailing "="
done < "$1"

